import{z as B,a as _,N as L}from"./NikkToast-C8QlIS5k.js";import{d as N,u as R,r as b,a as T,b as $,o as E,c as F,e as t,w as a,f as j,g as l,h as r,t as m,i as v,s as z,j as D}from"./index-BZJQ1lxK.js";import{_ as H}from"./NikkInputText.vue_vue_type_script_setup_true_lang-CwrLwuP9.js";import"./index-BiWdUJBG.js";const I={class:"w-full p-3 overflow-y-auto"},M={class:"text-center"},O={class:"text-center text-3xl md:text-4xl font-light mb-0"},A={class:"flex items-center justify-center"},U={class:"font-light text-sm me-1"},W=N({__name:"IndexView",setup(q){const g=R(),n=b(!1),x=j(),h=T(),{t:k}=$(),i=new L(h,k),o=b({email:""}),w=B(_.object({email:_.string().email({message:"errors.validation.email"})}));async function y(e){n.value=!0;try{e.valid?(await g.sendPasswordResetLink(o.value.email),i.success("messages.passwordResetLinkSent"),x.push({name:"account.login"})):i.error("errors.validation.form","labels.invalidForm")}catch(s){i.httpError(s)}finally{n.value=!1}}return(e,s)=>{const P=l("PrimeMessage"),c=l("PrimeButton"),V=l("router-link"),C=l("PrimeCard");return E(),F("div",I,[t(C,{class:"w-full md:w-4/12 2xl:w-3/12 mx-auto mt-10 nikk-card"},{title:a(()=>[r("div",M,[r("h1",O,m(e.$t("labels.forgotPassword")),1)])]),content:a(()=>[t(v(z),{class:"py-3 flex flex-col gap-5",initialValues:o.value,onSubmit:y,resolver:v(w),validateOnBlur:!0,validateOnSubmit:!0},{default:a(u=>{var d,f,p;return[t(P,{class:"text text-muted font-light text-sm bock"},{default:a(()=>[D(m(e.$t("hints.forgotPasswordDesc")),1)]),_:1}),t(H,{modelValue:o.value.email,"onUpdate:modelValue":s[0]||(s[0]=S=>o.value.email=S),errorHelpLabel:(f=(d=u.email)==null?void 0:d.error)==null?void 0:f.message,id:"email",isError:(p=u.email)==null?void 0:p.invalid,label:"labels.email",name:"email",type:"email"},null,8,["modelValue","errorHelpLabel","isError"]),t(c,{type:"submit",loading:n.value,label:e.$t("labels.emailResetLink")},null,8,["loading","label"]),r("div",A,[r("span",U,m(e.$t("hints.backToLogin")),1),t(V,{to:"/login",activeClass:"border-b border-primary"},{default:a(()=>[t(c,{text:"",label:e.$t("labels.login")},null,8,["label"])]),_:1})])]}),_:1},8,["initialValues","resolver"])]),_:1})])}}});export{W as default};
